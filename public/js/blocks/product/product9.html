<script src="https://cdn.tailwindcss.com"></script>
<!-- Add Font Awesome CDN in your HTML <head> section -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<!-- Properties - We Bring Dream Homes To Reality (with seam POPULAR badge) -->
<section class="w-full bg-slate-50 py-16 md:py-20">
  <div class="mx-auto w-[92%] max-w-7xl">

    <!-- Eyebrow -->
    <p class="text-center text-sm font-medium text-violet-500">Our Properties</p>

    <!-- Title -->
    <h2 class="mt-1 text-center text-3xl md:text-5xl font-extrabold tracking-tight text-slate-900">
      We Bring Dream Homes To Reality
    </h2>

    <!-- Toggle (Rent / Buy / Sell) -->
    <div class="mt-6 flex justify-center">
      <div class="flex items-center gap-2 rounded-full bg-white px-3 py-2 shadow ring-1 ring-slate-200">
        <button data-mode="Rent"
          class="mode-btn active flex items-center gap-2 rounded-full px-4 py-2 text-slate-700 hover:bg-violet-50 focus:outline-none focus:ring-2 focus:ring-violet-400">
          <i class="fa-solid fa-house text-slate-400 text-[20px]"></i>
          Rent
        </button>
        <button data-mode="Buy"
          class="mode-btn flex items-center gap-2 rounded-full px-4 py-2 text-slate-700 hover:bg-violet-50 focus:outline-none focus:ring-2 focus:ring-violet-400">
          <i class="fa-solid fa-bag-shopping text-slate-400 text-[20px]"></i>
          Buy
        </button>
        <button data-mode="Sell"
          class="mode-btn flex items-center gap-2 rounded-full px-4 py-2 text-slate-700 hover:bg-violet-50 focus:outline-none focus:ring-2 focus:ring-violet-400">
          <i class="fa-solid fa-chart-line text-slate-400 text-[20px]"></i>
          Sell
        </button>
      </div>
    </div>

    <!-- Cards -->
    <div id="cardsWrap" class="mt-10 grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Injected by JS -->
    </div>
  </div>
</section>

<style>
  @keyframes floatUp {
    from { opacity: 0; transform: translateY(18px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .reveal { opacity: 0; transform: translateY(18px); }
  .reveal.show { animation: floatUp .6s cubic-bezier(.2, .8, .2, 1) both; }
  /* Active state now applied via Tailwind classes from JS (no rgb/hex here) */
</style>

<script>
  // Demo data — replace with your assets
  const PROPERTIES = [
    { id: 1, mode: "Rent", img: "https://realestics.temptics.com/assets/img/project-1.jpg", price: "$4,500", cadence: "/Month", title: "Palm Harbor", address: "2821 Lake Sevilla, Palm Harbor, TX", specs: { beds: 3, baths: 2, area: "6x7.5 m²" }, liked: false },
    { id: 2, mode: "Rent", img: "https://realestics.temptics.com/assets/img/project-2.jpg", price: "$4,500", cadence: "/Month", title: "Beverly Springfield", address: "2821 Lake Sevilla, Palm Harbor, TX", specs: { beds: 3, baths: 2, area: "6x7.5 m²" }, liked: false },
    { id: 3, mode: "Rent", img: "https://realestics.temptics.com/assets/img/project-3.jpg", price: "$4,500", cadence: "/Month", title: "Faulkner Ave", address: "2821 Lake Sevilla, Palm Harbor, TX", specs: { beds: 3, baths: 2, area: "6x7.5 m²" }, liked: false },
    { id: 4, mode: "Buy",  img: "https://realestics.temptics.com/assets/img/project-4.jpg", price: "$520,000", cadence: "", title: "Palm Harbor", address: "2821 Lake Sevilla, Palm Harbor, TX", specs: { beds: 3, baths: 2, area: "6x7.5 m²" }, liked: false },
    { id: 5, mode: "Sell", img: "https://realestics.temptics.com/assets/img/project-5.jpg", price: "$475,000", cadence: "", title: "Beverly Springfield", address: "2821 Lake Sevilla, Palm Harbor, TX", specs: { beds: 3, baths: 2, area: "6x7.5 m²" }, liked: false },
  ];

  // Font Awesome hearts (solid when liked, regular when not)
  const iconHeart = (filled) =>
    filled
      ? `<i class="fa-solid fa-heart text-violet-500 text-[20px]"></i>`
      : `<i class="fa-regular fa-heart text-violet-500 text-[20px]"></i>`;

  const iconSpec = (iconHtml, label) =>
    `<span class="inline-flex items-center gap-1.5 text-slate-600 text-sm">${iconHtml} ${label}</span>`;

  function cardTemplate(p) {
    return `
      <article class="reveal rounded-2xl overflow-hidden bg-white shadow-sm ring-1 ring-slate-200">
        <!-- Image header -->
        <div class="relative">
          <img src="${p.img}" alt="${p.title}" class="block w-full h-[220px] md:h-[240px] object-cover">

          <!-- Heart -->
          <button class="like-btn absolute top-4 right-4 grid place-items-center h-10 w-10 rounded-full bg-white/80 backdrop-blur ring-1 ring-slate-200 hover:scale-105 transition" data-id="${p.id}" aria-label="toggle favorite">
            ${iconHeart(p.liked)}
          </button>

          <!-- POPULAR seam badge: half on image, half on body -->
          <div class="absolute left-4 top-full -translate-y-1/2 z-10 pointer-events-none">
            <span class="inline-block bg-violet-500 text-white text-[11px] font-bold tracking-wide px-3 py-1.5 rounded-full shadow-md">
              POPULAR
            </span>
          </div>
        </div>

        <!-- Body -->
        <div class="px-6 pt-5">
          <div class="flex items-end gap-2">
            <p class="text-violet-600 text-xl font-bold">${p.price}</p>
            <p class="text-slate-500 text-sm">${p.cadence}</p>
          </div>
          <h3 class="mt-2 text-lg font-semibold text-slate-900">${p.title}</h3>
          <p class="mt-1 text-slate-500 text-sm flex items-center gap-2">
            <i class="fa-solid fa-location-dot text-slate-400 text-[16px]"></i>
            ${p.address}
          </p>
        </div>

        <!-- Specs -->
        <div class="mt-4 border-t border-slate-100 px-6 py-4 grid grid-cols-3 gap-2">
          ${iconSpec(`<i class='fa-solid fa-bed text-slate-400 text-[16px]'></i>`, `${p.specs.beds} Beds`)}
          ${iconSpec(`<i class='fa-solid fa-bath text-slate-400 text-[16px]'></i>`, `${p.specs.baths} Bathrooms`)}
          ${iconSpec(`<i class='fa-solid fa-ruler-combined text-slate-400 text-[16px]'></i>`, `${p.specs.area}`)}
        </div>
      </article>`;
  }

  // Mount / interactivity
  const wrap = document.getElementById('cardsWrap');
  const modeBtns = document.querySelectorAll('.mode-btn');

  function render(mode = 'Rent') {
    const list = PROPERTIES.filter(p => p.mode === mode);
    wrap.innerHTML = list.map(cardTemplate).join('');
    requestAnimationFrame(() => {
      wrap.querySelectorAll('.reveal').forEach(el => el.classList.add('show'));
      wrap.querySelectorAll('.like-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = +btn.dataset.id;
          const item = PROPERTIES.find(x => x.id === id);
          item.liked = !item.liked;
          btn.innerHTML = iconHeart(item.liked);
        });
      });
    });
  }

  // Button behavior: apply Tailwind classes for active state (no rgb/hex)
  modeBtns.forEach(b => {
    b.addEventListener('click', () => {
      modeBtns.forEach(x => {
        x.classList.remove('active', 'bg-violet-500/10', 'text-indigo-700');
      });
      b.classList.add('active', 'bg-violet-500/10', 'text-indigo-700');
      render(b.dataset.mode);
    });
  });

  // Init active styling and render
  const initial = Array.from(modeBtns).find(x => x.dataset.mode === 'Rent');
  if (initial) initial.classList.add('bg-violet-500/10', 'text-indigo-700');
  render('Rent');
</script>
