<script src="https://cdn.tailwindcss.com"></script>

<section class="w-full bg-teal-50 py-10 px-0">
  <div class="max-w-7xl mx-auto px-3">
    <!-- Heading + Tabs -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-7 gap-3">
      <div>
        <h2 class="text-4xl font-bold text-indigo-900 mb-2">Property Listing</h2>
        <p class="text-slate-500 text-base sm:text-lg max-w-2xl animate-fadeIn">
          Eirmod sed ipsum dolor sit rebum labore magna erat. Tempor ut dolore lorem kasd vero ipsum sit eirmod sit diam justo sed rebum.
        </p>
      </div>
      <!-- Tab Bar -->
      <div class="flex gap-3 mt-2 md:mt-0 px-2 py-[10px] rounded-2xl bg-emerald-50 shadow-sm transition duration-300" id="tabBar">
        <button class="propertytab" data-tab="Featured" onclick="changeTab('Featured')">Featured</button>
        <button class="propertytab" data-tab="For Sell" onclick="changeTab('For Sell')">For Sell</button>
        <button class="propertytab" data-tab="For Rent" onclick="changeTab('For Rent')">For Rent</button>
      </div>
    </div>

    <!-- Cards Grid -->
    <div id="propsgrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- JS will populate cards -->
    </div>
  </div>

  <style>
    /* Base tab style (Tailwind via @apply, no hex) */
    .propertytab {
      @apply px-6 py-2 rounded-xl font-semibold border border-transparent cursor-pointer outline-none transition-all duration-200 bg-white text-slate-800 hover:bg-emerald-100/30 hover:text-emerald-500 hover:border-emerald-500;
      box-shadow: none;
    }

    /* Card animation */
    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(32px) }
      100% { opacity: 1; transform: translateY(0) }
    }
    .animate-fadeIn { animation: fadeIn 1.1s cubic-bezier(.77, -0.44, .37, 1.17); }

    @keyframes cardPop {
      0% { opacity: 0; transform: scale(.96); }
      100% { opacity: 1; transform: scale(1); }
    }
    .animate-cardPop { animation: cardPop 1s cubic-bezier(.77, -0.44, .37, 1.17); }

    .property-card {
      transition: box-shadow .22s cubic-bezier(.77, -0.44, .37, 1.17), transform .18s;
    }

    .image-block {
      aspect-ratio: 16/9;
      width: 100%;
      overflow: hidden;
      position: relative;
    }
    .image-block img {
      object-fit: cover;
      width: 100%;
      height: 100%;
      display: block;
    }

    @media (min-width:1024px) {
      .property-card { min-width: 390px; max-width: 390px; }
    }
  </style>

  <!-- Font Awesome v6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />

  <script>
    // Demo property data
    const properties = [
      { id: 1, tab: 'For Sell', img: 'https://demo.htmlcodex.com/2259/real-estate-html-template/img/property-1.jpg', type: 'Appartment', price: '$12,345', title: 'Golden Urban House For Sell', location: '123 Street, New York, USA', details: ['1000 Sqft', '3 Bed', '2 Bath'] },
      { id: 2, tab: 'For Rent', img: 'https://demo.htmlcodex.com/2259/real-estate-html-template/img/property-2.jpg', type: 'Villa',      price: '$12,345', title: 'Golden Urban House For Sell', location: '123 Street, New York, USA', details: ['1000 Sqft', '3 Bed', '2 Bath'] },
      { id: 3, tab: 'For Sell', img: 'https://demo.htmlcodex.com/2259/real-estate-html-template/img/property-3.jpg', type: 'Office',     price: '$12,345', title: 'Golden Urban House For Sell', location: '123 Street, New York, USA', details: ['1000 Sqft', '3 Bed', '2 Bath'] }
    ];

    let currentTab = 'Featured';

    function changeTab(tab) {
      currentTab = tab;
      document.querySelectorAll('.propertytab').forEach(btn => {
        btn.classList.remove('tab-active', 'bg-emerald-500', 'bg-blue-500', 'bg-cyan-500', 'text-white', 'shadow-lg');
      });
      document.querySelectorAll('.propertytab').forEach(btn => {
        if (btn.getAttribute('data-tab') === tab) {
          btn.classList.add('tab-active', 'text-white', 'shadow-lg');
          if (tab === 'Featured') btn.classList.add('bg-emerald-500');
          else if (tab === 'For Sell') btn.classList.add('bg-blue-500');
          else if (tab === 'For Rent') btn.classList.add('bg-cyan-500');
        }
      });
      renderProperties();
    }

    function renderProperties() {
      const grid = document.getElementById('propsgrid');
      grid.innerHTML = '';
      const filtered = (currentTab === 'Featured') ? properties : properties.filter(p => p.tab === currentTab);
      filtered.forEach((prop, i) => {
        grid.innerHTML += `
          <div class="property-card bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col animate-cardPop mx-auto hover:shadow-2xl hover:-translate-y-1 hover:scale-[1.01]">
            <div class="image-block">
              <img src="${prop.img}" alt="${prop.type}">
              <span class="absolute top-4 left-4 bg-emerald-500 text-white text-base font-semibold px-5 py-1 rounded-md shadow">${prop.tab}</span>
            </div>
            <div class="flex-1 flex flex-col p-5 pb-2">
              <span class="px-4 py-1 font-medium rounded-lg bg-emerald-50 text-emerald-600 w-fit mt-[-23px] mb-3 text-base shadow">${prop.type}</span>
              <div class="font-bold text-2xl text-emerald-600 mb-[2px]">${prop.price}</div>
              <div class="font-bold text-lg text-slate-800 leading-snug mb-1">${prop.title}</div>
              <div class="flex items-center text-slate-500 text-base mb-4">
                <i class="fa-solid fa-location-dot w-5 h-5 mr-2 text-emerald-500"></i>
                ${prop.location}
              </div>
            </div>
            <div class="flex justify-between items-center gap-1 px-5 pt-2 pb-4 border-t border-teal-100">
              <span class="flex items-center gap-2 text-emerald-600 text-base">
                <i class="fa-solid fa-ruler-combined w-5 h-5"></i> ${prop.details[0]}
              </span>
              <span class="flex items-center gap-2 text-emerald-600 text-base">
                <i class="fa-solid fa-bed w-5 h-5"></i> ${prop.details[1]}
              </span>
              <span class="flex items-center gap-2 text-emerald-600 text-base">
                <i class="fa-solid fa-bath w-5 h-5"></i> ${prop.details[2]}
              </span>
            </div>
          </div>
        `;
      });
    }

    // Initial paint
    document.querySelectorAll('.propertytab').forEach(btn => {
      if (btn.getAttribute('data-tab') === currentTab) btn.classList.add('tab-active', 'bg-emerald-500', 'text-white', 'shadow-lg');
    });
    renderProperties();
  </script>
</section>
