<!-- Place both CDN links above the section -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
<script src="https://cdn.tailwindcss.com"></script>

<section id="lightboxGallery" class="w-full bg-white text-zinc-900">
 <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-10">
  <!-- Heading -->
  <div class="text-center mb-8">
   <h2 class="text-2xl sm:text-3xl md:text-4xl font-semibold tracking-tight">Gallery with Lightbox</h2>
   <p class="mt-3 text-zinc-600">Enter your gallery subtitle here</p>
  </div>

  <!-- Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
   <!-- 1 -->
   <figure
    class="group relative overflow-hidden rounded shadow ring-1 ring-zinc-200 hover:shadow-lg transition-all duration-500 ease-out"
    data-animate>
    <a href="https://images.unsplash.com/photo-1499346030926-9a72daac6c63?q=80&w=1200" data-caption="Type caption here"
     class="gallery-item block">
     <img src="https://images.unsplash.com/photo-1499346030926-9a72daac6c63?q=80&w=800" alt="Sky"
      class="w-full h-48 md:h-56 object-cover transition-transform duration-700 ease-out group-hover:scale-[1.03]" />
     <figcaption
      class="pointer-events-none absolute inset-x-0 bottom-0 px-3 py-2 text-sm text-white bg-gradient-to-t from-zinc-900/80 via-zinc-900/20 to-transparent">
      Type caption here
     </figcaption>
    </a>
   </figure>

   <!-- 2 (tall middle) -->
   <figure
    class="group relative overflow-hidden rounded shadow ring-1 ring-zinc-200 hover:shadow-lg transition-all duration-500 ease-out md:row-span-2"
    data-animate>
    <a href="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200" data-caption="Type caption here"
     class="gallery-item block">
     <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=800" alt="Ferris"
      class="w-full h-[28rem] md:h-[34rem] object-cover transition-transform duration-700 ease-out group-hover:scale-[1.03]" />
     <figcaption
      class="pointer-events-none absolute inset-x-0 bottom-0 px-3 py-2 text-sm text-white bg-gradient-to-t from-zinc-900/80 via-zinc-900/20 to-transparent">
      Type caption here
     </figcaption>
    </a>
   </figure>

   <!-- 3 -->
   <figure
    class="group relative overflow-hidden rounded shadow ring-1 ring-zinc-200 hover:shadow-lg transition-all duration-500 ease-out"
    data-animate>
    <a href="https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?q=80&w=1200" data-caption="Type caption here"
     class="gallery-item block">
     <img src="https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?q=80&w=800" alt="Sunset"
      class="w-full h-48 md:h-56 object-cover transition-transform duration-700 ease-out group-hover:scale-[1.03]" />
     <figcaption
      class="pointer-events-none absolute inset-x-0 bottom-0 px-3 py-2 text-sm text-white bg-gradient-to-t from-zinc-900/80 via-zinc-900/20 to-transparent">
      Type caption here
     </figcaption>
    </a>
   </figure>

   <!-- 4 (tall left) -->
   <figure
    class="group relative overflow-hidden rounded shadow ring-1 ring-zinc-200 hover:shadow-lg transition-all duration-500 ease-out md:row-span-2"
    data-animate>
    <a href="https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200" data-caption="Type caption here"
     class="gallery-item block">
     <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=800" alt="Bouquet"
      class="w-full h-[28rem] md:h-[34rem] object-cover transition-transform duration-700 ease-out group-hover:scale-[1.03]" />
     <figcaption
      class="pointer-events-none absolute inset-x-0 bottom-0 px-3 py-2 text-sm text-white bg-gradient-to-t from-zinc-900/80 via-zinc-900/20 to-transparent">
      Type caption here
     </figcaption>
    </a>
   </figure>

   <!-- 5 -->
   <figure
    class="group relative overflow-hidden rounded shadow ring-1 ring-zinc-200 hover:shadow-lg transition-all duration-500 ease-out"
    data-animate>
    <a href="https://images.unsplash.com/photo-1501785888041-af3ef285b470?q=80&w=1200" data-caption="Type caption here"
     class="gallery-item block">
     <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?q=80&w=800" alt="Lake"
      class="w-full h-48 md:h-56 object-cover transition-transform duration-700 ease-out group-hover:scale-[1.03]" />
     <figcaption
      class="pointer-events-none absolute inset-x-0 bottom-0 px-3 py-2 text-sm text-white bg-gradient-to-t from-zinc-900/80 via-zinc-900/20 to-transparent">
      Type caption here
     </figcaption>
    </a>
   </figure>

   <!-- 6 (tall right) -->
   <figure
    class="group relative overflow-hidden rounded shadow ring-1 ring-zinc-200 hover:shadow-lg transition-all duration-500 ease-out md:row-span-2"
    data-animate>
    <a href="https://images.unsplash.com/photo-1519681392070-0d7a0b24e5cc?q=80&w=1200" data-caption="Type caption here"
     class="gallery-item block">
     <img src="https://images.unsplash.com/photo-1519681392070-0d7a0b24e5cc?q=80&w=800" alt="Chair beach"
      class="w-full h-[28rem] md:h-[34rem] object-cover transition-transform duration-700 ease-out group-hover:scale-[1.03]" />
     <figcaption
      class="pointer-events-none absolute inset-x-0 bottom-0 px-3 py-2 text-sm text-white bg-gradient-to-t from-zinc-900/80 via-zinc-900/20 to-transparent">
      Type caption here
     </figcaption>
    </a>
   </figure>
  </div>
 </div>

 <!-- Lightbox Modal -->
 <div id="lbOverlay" class="fixed inset-0 bg-black/80 backdrop-blur-sm hidden items-center justify-center z-50">
  <button id="lbClose" class="absolute top-5 right-6 text-white/90 hover:text-white text-2xl">
   <i class="fa-solid fa-xmark"></i>
  </button>

  <button id="lbPrev"
   class="absolute left-4 md:left-10 top-1/2 -translate-y-1/2 text-white/90 hover:text-white text-2xl">
   <i class="fa-solid fa-chevron-left"></i>
  </button>
  <button id="lbNext"
   class="absolute right-4 md:right-10 top-1/2 -translate-y-1/2 text-white/90 hover:text-white text-2xl">
   <i class="fa-solid fa-chevron-right"></i>
  </button>

  <div class="mx-4 md:mx-10 max-w-4xl w-full">
   <div class="relative overflow-hidden rounded-lg shadow-2xl ring-1 ring-white/10">
    <img id="lbImage" src="" alt="Preview"
     class="w-full max-h-[80vh] object-contain opacity-0 scale-[0.98] transition-all duration-300 ease-out" />
    <div class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-zinc-900/80 via-zinc-900/20 to-transparent px-4 py-3">
     <p id="lbCaption" class="text-white text-sm"></p>
    </div>
   </div>
  </div>
 </div>

 <!-- JS inside section -->
 <script>
  (function () {
   const root = document.getElementById('lightboxGallery');
   const items = Array.from(root.querySelectorAll('.gallery-item'));
   const overlay = document.getElementById('lbOverlay');
   const img = document.getElementById('lbImage');
   const caption = document.getElementById('lbCaption');
   const btnPrev = document.getElementById('lbPrev');
   const btnNext = document.getElementById('lbNext');
   const btnClose = document.getElementById('lbClose');
   let idx = 0;

   // Scroll-reveal
   const revealTargets = root.querySelectorAll('[data-animate]');
   const io = new IntersectionObserver((entries) => {
    entries.forEach((e, i) => {
     if (e.isIntersecting) {
      setTimeout(() => {
       e.target.classList.add('translate-y-0', 'opacity-100');
       e.target.classList.remove('translate-y-4', 'opacity-0');
      }, i * 90);
      io.unobserve(e.target);
     }
    });
   }, { threshold: 0.2 });
   revealTargets.forEach(t => {
    t.classList.add('opacity-0', 'translate-y-4', 'transition', 'duration-700', 'ease-out');
    io.observe(t);
   });

   function openAt(i) {
    idx = (i + items.length) % items.length;
    const a = items[idx];
    overlay.classList.remove('hidden');
    overlay.classList.add('flex');
    img.onload = () => { img.classList.add('opacity-100'); };
    img.classList.remove('opacity-100');
    img.src = a.getAttribute('href');
    caption.textContent = a.getAttribute('data-caption') || '';
   }
   function close() {
    overlay.classList.add('hidden');
    overlay.classList.remove('flex');
    img.src = '';
    img.classList.remove('opacity-100');
   }

   items.forEach((a, i) => a.addEventListener('click', (e) => { e.preventDefault(); openAt(i); }));
   btnClose.addEventListener('click', close);
   overlay.addEventListener('click', (e) => { if (e.target === overlay) close(); });
   btnPrev.addEventListener('click', () => openAt(idx - 1));
   btnNext.addEventListener('click', () => openAt(idx + 1));
   window.addEventListener('keydown', (e) => {
    if (overlay.classList.contains('hidden')) return;
    if (e.key === 'Escape') close();
    if (e.key === 'ArrowLeft') openAt(idx - 1);
    if (e.key === 'ArrowRight') openAt(idx + 1);
   });
  })();
 </script>
</section>