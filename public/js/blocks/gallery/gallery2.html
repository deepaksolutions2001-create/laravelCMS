<!-- Tailwind CSS (Play CDN core) -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Tailwind CSS (Play CDN with plugins) -->
<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>

<section id="visual-diary" class="relative isolate w-full overflow-hidden bg-white text-slate-900">
 <!-- Top spacing -->
 <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-10 sm:pt-12 lg:pt-14">

  <!-- Header -->
  <div class="text-center">
   <div class="mb-3 text-xs tracking-[0.18em] font-semibold uppercase text-slate-500">Gallery</div>
   <h1 class="relative mx-auto max-w-3xl text-4xl sm:text-5xl lg:text-6xl font-semibold tracking-tight text-slate-900">
    My Visual Diary
   </h1>
   <p class="mx-auto mt-3 max-w-xl text-sm sm:text-base text-slate-600">
    See the world through my lens: adventures in photos and videos
   </p>
  </div>

  <!-- Chips -->
  <div class="mt-7 sm:mt-8">
   <div class="relative -mx-4 px-4">
    <div class="flex items-center gap-2 sm:gap-3 overflow-x-auto no-scrollbar py-1">
     <!-- Active -->
     <button class="shrink-0 rounded-full bg-slate-900 text-white text-xs sm:text-sm px-4 py-2 shadow-sm">
      Italy
     </button>
     <!-- Inactive -->
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      Dubai
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      London
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      Berlin
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      Rome
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      Rome
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      Lisbon
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      India
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      China
     </button>
     <button
      class="shrink-0 rounded-full border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 text-xs sm:text-sm px-4 py-2">
      Japan
     </button>

     <!-- View More -->
     <button
      class="ml-auto shrink-0 group rounded-full border border-slate-300 text-slate-800 bg-white hover:bg-slate-50 text-xs sm:text-sm pl-4 pr-3 py-2 inline-flex items-center gap-2">
      View More
      <svg class="h-4 w-4 transition-transform duration-300 ease-out group-hover:translate-x-0.5" viewBox="0 0 24 24"
       fill="none" stroke="currentColor">
       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
     </button>
    </div>
   </div>
  </div>

  <!-- Carousel -->
  <div class="relative mt-8 sm:mt-10 lg:mt-12">
   <!-- subtle spotlight -->
   <div
    class="pointer-events-none absolute inset-x-0 top-20 mx-auto h-40 w-[28rem] sm:w-[34rem] rounded-full bg-slate-300/40 blur-3xl">
   </div>

   <div id="vd-track" class="relative mx-auto flex items-end justify-center gap-4 sm:gap-6 lg:gap-8"
    aria-roledescription="carousel">
    <!-- Slides (replace src with your images) -->
    <!-- Each slide gets transformed by JS to create the fanned depth layout -->
    <div class="vd-slide relative aspect-[4/5] w-32 sm:w-40 lg:w-48 rounded-3xl overflow-hidden shadow-xl bg-slate-200">
     <img src="https://images.pexels.com/photos/186077/pexels-photo-186077.jpeg" alt=""
      class="h-full w-full object-cover">
    </div>
    <div
     class="vd-slide relative aspect-[4/5] w-40 sm:w-52 lg:w-64 rounded-3xl overflow-hidden shadow-2xl bg-slate-200">
     <img src="assets/gallery-2.jpg" alt="" class="h-full w-full object-cover">
    </div>
    <div
     class="vd-slide relative aspect-[4/5] w-60 sm:w-72 lg:w-96 rounded-3xl overflow-hidden shadow-2xl ring-1 ring-black/5 bg-slate-200">
     <img src="https://images.pexels.com/photos/186077/pexels-photo-186077.jpeg" alt=""
      class="h-full w-full object-cover">
     <!-- play badge (right card in ref shows a play dot) -->
     <div
      class="pointer-events-none absolute bottom-3 right-3 flex h-8 w-8 items-center justify-center rounded-full bg-white/90 text-slate-900 shadow">
      <div class="h-2.5 w-2.5 rounded-full bg-slate-900"></div>
     </div>
    </div>
    <div
     class="vd-slide relative aspect-[4/5] w-40 sm:w-52 lg:w-64 rounded-3xl overflow-hidden shadow-2xl bg-slate-200">
     <img src="https://images.pexels.com/photos/186077/pexels-photo-186077.jpeg" alt=""
      class="h-full w-full object-cover">
    </div>
    <div class="vd-slide relative aspect-[4/5] w-32 sm:w-40 lg:w-48 rounded-3xl overflow-hidden shadow-xl bg-slate-200">
     <img src="https://images.pexels.com/photos/186077/pexels-photo-186077.jpeg" alt=""
      class="h-full w-full object-cover">
    </div>
   </div>

   <!-- Navigation -->
   <div class="mt-10 flex items-center justify-center gap-4">
    <button id="vd-prev"
     class="h-10 w-10 rounded-full bg-white shadow ring-1 ring-slate-200 hover:bg-slate-50 active:scale-95 transition">
     <span class="sr-only">Previous</span>
     <svg class="mx-auto h-5 w-5 text-slate-900" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
     </svg>
    </button>
    <button id="vd-next"
     class="h-10 w-10 rounded-full bg-white shadow ring-1 ring-slate-200 hover:bg-slate-50 active:scale-95 transition">
     <span class="sr-only">Next</span>
     <svg class="mx-auto h-5 w-5 text-slate-900" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
     </svg>
    </button>
   </div>
  </div>
 </div>

 <!-- Component Script (scoped) -->
 <script>
  (function () {
   const root = document.currentScript.closest('#visual-diary');
   const slides = Array.from(root.querySelectorAll('.vd-slide'));
   const prev = root.querySelector('#vd-prev');
   const next = root.querySelector('#vd-next');
   let active = Math.floor(slides.length / 2);

   // Initial entrance animation
   const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
   if (!prefersReduced) {
    slides.forEach((el, i) => {
     el.style.opacity = '0';
     el.style.transform = 'translateY(16px)';
     el.style.transition = 'transform 600ms cubic-bezier(.2,.8,.2,1), opacity 600ms ease';
     setTimeout(() => {
      el.style.opacity = '1';
      el.style.transform = 'translateY(0)';
     }, 80 * i + 120);
    });
   }

   function render() {
    const center = active;
    const spread = 72;  // px offset between layers
    slides.forEach((el, i) => {
     const offset = i - center;
     const abs = Math.abs(offset);
     const scale = i === center ? 1 : (i === center - 1 || i === center + 1) ? 0.92 : 0.86;
     const z = 50 - abs;
     const translateX = offset * spread;
     const rotate = offset * -2.5;

     el.style.zIndex = String(z);
     el.style.transformOrigin = '50% 85%';
     el.style.transform =
      `translateX(${translateX}%) rotate(${rotate}deg) scale(${scale})`;
     el.style.filter = abs >= 2 ? 'brightness(0.9) saturate(0.95) blur(0px)' : 'none';
     el.style.opacity = abs > 2 ? '0.9' : '1';

     // Depth shadows
     el.classList.toggle('ring-1', i === center);
     el.classList.toggle('ring-black/5', i === center);
     el.classList.toggle('shadow-2xl', abs <= 1);
     el.classList.toggle('shadow-xl', abs > 1);
    });
   }

   function clamp(n, min, max) { return Math.max(min, Math.min(n, max)); }

   function step(dir) {
    active = clamp(active + dir, 0, slides.length - 1);
    render();
   }

   prev.addEventListener('click', () => step(-1));
   next.addEventListener('click', () => step(1));
   window.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') step(-1);
    if (e.key === 'ArrowRight') step(1);
   });

   // Drag / swipe
   let startX = 0;
   let dragging = false;
   const track = root.querySelector('#vd-track');
   track.addEventListener('pointerdown', (e) => { dragging = true; startX = e.clientX; track.setPointerCapture(e.pointerId); });
   track.addEventListener('pointerup', (e) => {
    if (!dragging) return;
    dragging = false;
    const dx = e.clientX - startX;
    if (Math.abs(dx) > 30) step(dx < 0 ? 1 : -1);
   });

   // Initial layout
   render();
   // Responsive re-render
   window.addEventListener('resize', render);
  })();
 </script>

 <!-- Helpers -->
 <style>
  .no-scrollbar::-webkit-scrollbar {
   display: none;
  }

  .no-scrollbar {
   -ms-overflow-style: none;
   scrollbar-width: none;
  }
 </style>
</section>